<div class="registration-container">
  <div class="back-button">
    <button (click)="goBack()" class="btn-back">
      <i class="fa fa-arrow-left"></i> Retour aux détails de l'événement
    </button>
  </div>

  <div *ngIf="eventLoading" class="loading-spinner">
    Chargement des détails de l'événement...
  </div>

  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
    <button (click)="goBack()" class="btn-back">Retour</button>
  </div>

  <ng-container *ngIf="!eventLoading && !error && event">
    <h1>Inscriptions à l'événement : {{ event.title }}</h1>
    <div *ngIf="loading">Chargement des inscriptions...</div>
    <div *ngIf="!loading && registrations.length === 0">
      Aucune inscription pour cet événement.
    </div>
    <table
      *ngIf="!loading && registrations.length > 0"
      class="registration-table"
    >
      <thead>
        <tr>
          <th>User ID</th>
          <th>Nombre de places</th>
          <th>Date d'inscription</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reg of registrations">
          <td>{{ reg.userId }}</td>
          <td>{{ reg.seats }}</td>
          <td>{{ reg.createdAt ? formatDate(reg.createdAt) : "-" }}</td>
        </tr>
      </tbody>
    </table>
    <button (click)="goBack()" class="btn-back">Retour à l'événement</button>
  </ng-container>
</div>
